# 二维码识别功能说明

## 功能概述
已成功为在线开发工具集添加了**二维码识别**功能。用户可以通过粘贴二维码图片或上传图片文件来识别二维码内容。

## 功能特性

### 1. 多种输入方式
- **粘贴图片**：支持在二维码标签页粘贴图片（Ctrl+V / Cmd+V）
- **文件上传**：点击粘贴区域打开文件选择器
- **拖拽上传**：直接将图片拖拽到粘贴区域

### 2. 实时预览
- 上传或粘贴的图片会在预览区域实时显示
- 支持各种常见图片格式（PNG、JPG、GIF等）

### 3. 识别结果
- 成功识别二维码后，会显示解析出的文本内容
- 点击结果可以复制到剪贴板
- 如果识别失败，会提示相关错误信息

## 技术实现

### 使用的库
- **jsQR**：一个轻量级的纯JavaScript二维码检测库
  - 链接：`https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js`
  - 无需后端依赖，完全在浏览器端处理

### 核心函数

#### `recognizeQRCode(imageData)`
- 接收canvas的ImageData对象
- 使用jsQR库进行二维码识别
- 显示识别结果或错误提示

#### `handleQRCodeImage(file)`
- 处理上传或粘贴的图片文件
- 加载图片并绘制到canvas
- 调用recognizeQRCode进行识别

#### `escapeHtml(text)`
- HTML转义函数，防止XSS攻击
- 确保识别结果安全显示

## 使用方法

1. 打开工具页面：`index.html`
2. 点击**二维码识别**标签页
3. 选择任意一种方式上传二维码：
   - 粘贴图片（推荐）
   - 点击区域选择文件
   - 拖拽文件到区域
4. 等待识别完成，查看结果
5. 点击结果可复制识别出的文本

## 文件修改清单

### 1. `index.html`
- 添加"二维码识别"标签页按钮
- 添加二维码识别标签页的HTML结构
- 引入jsQR库的CDN链接
- 添加二维码相关的CSS样式

### 2. `app.js`
- 添加`recognizeQRCode()`函数
- 添加`handleQRCodeImage()`函数
- 添加`escapeHtml()`函数
- 在DOMContentLoaded中初始化二维码功能
- 添加粘贴、拖拽和文件选择事件监听
- 添加二维码结果的复制功能处理

## 测试文件
- `test-qrcode.html`：独立的二维码识别测试页面

## 注意事项
1. 二维码识别完全在客户端进行，无隐私泄露风险
2. 支持多种二维码格式和数据编码方式
3. 对于复杂或损坏的二维码可能识别失败，建议使用清晰的图片
